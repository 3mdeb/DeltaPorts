--- bsd.database.mk.orig	2012-11-17 06:54:17.000000000 +0100
+++ bsd.database.mk	2012-12-30 00:29:18.021731000 +0100
@@ -57,7 +57,7 @@
 #				  If no version is given (by the maintainer via the port or
 #				  by the user via defined variable), try to find the
 #				  currently installed version.  Fall back to default if
-#				  necessary (db41+).
+#				  necessary (db48).
 # INVALID_BDB_VER
 #				- This variable can be defined when the port does not
 #				  support one or more versions of Berkeley DB.
@@ -73,14 +73,14 @@
 #				- Use the highest installed version of Berkeley DB.
 # BDB_LIB_NAME
 #				- This variable is automatically set to the name of the
-#				  Berkeley DB library (default: db41).
+#				  Berkeley DB library (default: db48).
 # BDB_LIB_CXX_NAME
 #				- This variable is automatically set to the name of the
-#				  Berkeley DB C++ library (default: db41_cxx).
+#				  Berkeley DB C++ library (default: db48_cxx).
 # BDB_INCLUDE_DIR
 #				- This variable is automatically set to the location of
 #				  the Berkeley DB include directory (default:
-#				  ${LOCALBASE}/include/db41).
+#				  ${LOCALBASE}/include/db48).
 # BDB_LIB_DIR
 #				- This variable is automatically set to the location of
 #				  the Berkeley DB library directory.
@@ -299,8 +299,8 @@
 
 # Override the global WITH_BDB_VER with the
 # port specific <UNIQUENAME>_WITH_BDB_VER
-.if defined(${UNIQUENAME:U:S,-,_,}_WITH_BDB_VER)
-WITH_BDB_VER=	${${UNIQUENAME:U:S,-,_,}_WITH_BDB_VER}
+.if defined(${UNIQUENAME:tu:S,-,_,}_WITH_BDB_VER)
+WITH_BDB_VER=	${${UNIQUENAME:tu:S,-,_,}_WITH_BDB_VER}
 .endif
 
 .if defined(WITH_BDB_VER)
@@ -312,9 +312,9 @@
 .endif
 _WANT_BDB_VER=	${USE_BDB}
 
-# Assume the default bdb version as 41
-.if ${USE_BDB:L} == "yes"
-_WANT_BDB_VER=	41+
+# Assume the default bdb version as 48
+.if ${USE_BDB:tl} == "yes"
+_WANT_BDB_VER=	48
 .endif
 
 # Detect bdb version
@@ -452,7 +452,7 @@
 .  endif
 . endfor
 . if defined(BAD_VAR)
-_IGNORE_MSG=	Obsolete variable(s) ${BAD_VAR} use WITH_BDB_VER or ${UNIQUENAME:U:S,-,_,}_WITH_BDB_VER to select Berkeley DB version
+_IGNORE_MSG=	Obsolete variable(s) ${BAD_VAR} use WITH_BDB_VER or ${UNIQUENAME:tu:S,-,_,}_WITH_BDB_VER to select Berkeley DB version
 .  if defined(IGNORE)
 IGNORE+= ${_IGNORE_MSG}
 .  else
@@ -466,7 +466,7 @@
 # Handling SQLite dependency
 .if defined(USE_SQLITE)
 
-.if ${USE_SQLITE:L} == "yes"
+.if ${USE_SQLITE:tl} == "yes"
 _SQLITE_VER=	3
 .else
 _SQLITE_VER=	 ${USE_SQLITE}
@@ -494,7 +494,7 @@
 USE_FIREBIRD=	${WITH_FIREBIRD_VER}
 .endif
 
-.if ${USE_FIREBIRD:L} == "yes"
+.if ${USE_FIREBIRD:tl} == "yes"
 FIREBIRD_VER=	25
 .else
 FIREBIRD_VER=	${USE_FIREBIRD}

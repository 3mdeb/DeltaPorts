--- Makefile.orig	2013-06-02 18:04:44.676826000 +0000
+++ Makefile
@@ -83,16 +83,10 @@ OPTIONS_DEFINE=	CODECS GCONF PULSEAUDIO
 CODECS_DESC=	Compile and enable patented codecs like H.264
 CLANG_DESC=	Build Chromium with Clang instead of GCC 4.6+
 
-OPTIONS_DEFAULT=	CODECS GCONF CLANG
+OPTIONS_DEFAULT=	CODECS GCONF
 
 .include <bsd.port.options.mk>
 
-.if ${OSVERSION} < 900033 || ! ${PORT_OPTIONS:MCLANG}
-BUILD_DEPENDS+=	${LOCALBASE}/bin/as:${PORTSDIR}/devel/binutils
-CONFIGURE_ENV+=	COMPILER_PATH=${LOCALBASE}/bin
-MAKE_ENV+=	COMPILER_PATH=${LOCALBASE}/bin
-.endif
-
 .if ${PORT_OPTIONS:MCODECS}
 GYP_DEFINES+=	ffmpeg_branding=Chrome
 GYP_DEFINES+=	proprietary_codecs=1
@@ -119,9 +113,7 @@ GYP_DEFINES+=	disable_sse2=1
 .endif
 
 .if ${PORT_OPTIONS:MCLANG}
-.if ${OSVERSION} < 900033
 BUILD_DEPENDS+=	clang:${PORTSDIR}/lang/clang
-.endif
 CC=		clang
 CXX=		clang++
 GYP_DEFINES+=	clang=1
@@ -163,7 +155,7 @@ post-patch:
 		${WRKSRC}/crypto/crypto.gyp \
 		${WRKSRC}/v8/tools/gyp/v8.gyp \
 		${WRKSRC}/v8/build/common.gypi
-	@${REINPLACE_CMD} -e "s|linux|freebsd|" \
+	@${REINPLACE_CMD} -e "s|linux|dragonfly|" \
 		${WRKSRC}/tools/gyp/pylib/gyp/generator/make.py
 	@${REINPLACE_CMD} -e "s|is_linux|(is_linux or is_bsd)|" \
 		${WRKSRC}/chrome/browser/browser_resources.grd \
@@ -176,6 +168,12 @@ post-patch:
 		${WRKSRC}/ui/base/strings/app_locale_settings_ko.xtb \
 		${WRKSRC}/ui/base/strings/app_locale_settings_ml.xtb \
 		${WRKSRC}/ui/base/strings/app_locale_settings_th.xtb
+	@${FIND} ${WRKSRC} -name \*\.gyp -exec grep -l freebsd {} \; | \
+		${XARGS} ${REINPLACE_CMD} -e 's|freebsd|dragonfly|g'
+	@${FIND} ${WRKSRC} -name \*\.gypi -exec grep -l freebsd {} \; | \
+		${XARGS} ${REINPLACE_CMD} -e 's|freebsd|dragonfly|g'
+	@${FIND} ${WRKSRC} -name \*\.py -exec grep -l "'freebsd'" {} \; | \
+		${XARGS} ${REINPLACE_CMD} -e "s|'freebsd'|'dragonfly'|g"
 
 do-configure:
 	cd ${WRKSRC} && \
